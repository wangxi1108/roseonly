/*2017-05-11 19:46:21 */
!function(a,b,c){function d(){}function e(a){return"function"==typeof a}function f(a){return"[object Array]"==sa.call(Object(a))}function g(a){return void 0!=a&&-1<(a.constructor+"").indexOf("String")}function h(a,b){if(g(a)&&(a=b[a]),!e(a))return d;var c=ra.call(arguments,2);return function(){return a.apply(b,c.concat(ra.call(arguments)))}}function i(b){var c=a.console,f=Aa,h=a[f]=a[f]||[];Ca&&(Ca&&g(ta)&&(ta+=ta.indexOf("?")>-1?"&":"?",ta+="f="+encodeURIComponent(b)+"&m="+encodeURIComponent(ra.call(arguments,1).join(""))+"&hash="+j(),m(ta,d,!0)),h.push(ra.call(arguments)),h.length>Ba&&h.splice(0,Ba-h.length),c&&c.log&&e(c.log)&&(e(c.log.apply)?c.log.apply(c,arguments):c.log(arguments[0])))}function j(){return Math.round(2147483647*Math.random())}function k(a){var b,c=1,d=0;if(a)for(c=0,b=a.length-1;b>=0;b--)d=a.charCodeAt(b),c=(c<<6&268435455)+d+(d<<14),d=266338304&c,c=0!==d?c^d>>21:c;return c}function l(){for(var a,b=[],c=arguments.length,d=0;c>d;d++)a=arguments[d],d>0&&(a=0===a.indexOf("/")?a.slice(1):a),c-1>d&&(a="/"===a.slice(-1)?a.slice(0,a.length-1):a),b.push(a);return b.join("/")}function m(d,e,f){var g,h;try{g="_clickiv4_"+ +new Date+j(),h=a[g]=new Image,h.onload=h.onerror=function(){try{e(),h.onload=h.onerror=a[g]=c}catch(b){}},h.src=d}catch(k){try{h=b.createElement("img"),h.onload=h.onerror=function(){try{e(),h.onload=h.onerror=a[g]=c}catch(b){}},h.src=d}catch(l){f||i("createImage","error message is: ",k.message)}}}function n(a,c,d,e){if(a){var f=b.createElement("script");f.type="text/javascript",f.async=!0,f.src=a,f.id=c,d&&(f.addEventListener?f.onload=d:f.onreadystatechange=function(){f.readyState in{loaded:1,complete:1}&&(f.onreadystatechange=null,d())}),e&&(f.onerror=e);var g=b.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g)}}function o(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent&&a.attachEvent("on"+b,c)}function p(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function q(a){var c=new Date,d=arguments,e=d.length;if(e>1){var f=d[2]||0,g=d[3]||"/",h=d[4]||0,i=d[5]||0;return f&&c.setTime(c.getTime()+1e3*f),b.cookie=a+"="+escape(d[1])+(f?"; expires="+c.toGMTString():"")+("; path="+g)+(h&&"none"!=h?"; domain="+h:"")+(i?"; secure":""),d[1]}var j=b.cookie.match("(?:^|;)\\s*"+a+"=([^;]*)");return j?unescape(j[1]):0}function r(){var a=""+b.location.hostname;return 0===a.indexOf("www.")?a.substring(4):a}function s(a){var c=b.referrer;if(/^https?:\/\//i.test(c)){if(a)return c;var d="//"+b.location.hostname,e=c.indexOf(d);if(5===e||6===e){var f=c.charAt(e+d.length);if("/"===f||"?"===f||""===f||":"===f)return}return c}}function t(){var b,c,d;if((d=(d=a.navigator)?d.plugins:null)&&d.length)for(var e=0;e<d.length&&!c;e++){var f=d[e];-1<f.name.indexOf("Shockwave Flash")&&(c=f.description)}if(!c)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),c=b.GetVariable("$version")}catch(g){}if(!c)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),c="WIN 6,0,21,0",b.AllowScriptAccess="always",c=b.GetVariable("$version")}catch(h){}if(!c)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),c=b.GetVariable("$version")}catch(i){}return c&&(b=c.match(/[\d]+/g))&&3<=b.length&&(c=b[0]+"."+b[1]+" r"+b[2]),c||void 0}function u(a,b){return a.name=b}function v(a,b){var c,d,e=0,f={};for(d=Math.min(a.length+1,b.length);d>e;e++)if("object"==typeof b[e])for(c in b[e])b[e].hasOwnProperty(c)&&(f[c]=b[e][c]);else a.length>e&&(f[a[e]]=b[e]);return f}function w(a,b){return 1==b.length&&null!=b[0]&&"object"==typeof b[0]?b[0]:v(a,b)}function x(){return pa.userAgent.indexOf("Firefox")>=0&&![].reduce}function y(a,b){return b=b||d,a.length<=2036?z(a,b):a.length<=8192&&!x()?B(a,b)||A(a,b)||D(a,b):(i("send","request param is to long ",a.length),!1)}function z(a,b){b=b||d,m(l(Fa,Ga)+"?"+a,b)}function A(b,c){if(c=c||d,!a.XDomainRequest)return!1;var e=new a.XDomainRequest;return e.open("POST",l(Fa,Ha)),e.onerror=function(){c()},e.onload=c,e.send(b),!0}function B(b,c){if(c=c||d,!a.XMLHttpRequest)return!1;var e=new a.XMLHttpRequest;return"withCredentials"in e?(e.open("POST",l(Fa,Ha),!0),e.setRequestHeader("Content-Type","text/plain"),e.onreadystatechange=function(){4==e.readyState&&(c(),c=null)},e.send(b),!0):!1}function C(b,c){if(c=c||d,!a.XMLHttpRequest)return!1;var e=new a.XMLHttpRequest;return e.open("GET",b,!0),e.withCredentials=!0,e.setRequestHeader("Content-Type","text/plain"),e.onreadystatechange=function(){4==e.readyState&&(c(e.responseText,e),c=null)},e.send(null),!0}function D(c,e){var f,g,h,i,j=0,k=!1;if(e=e||d,h=function(){g.src="",g.parentNode&&g.parentNode.removeChild(g)},i=function(){if(!k)try{if(j>9||g.contentWindow.location.host==b.location.host)return k=!0,h(),p(a,"beforeunload",h),void e()}catch(c){j++,setTimeout(i,200)}},b.body){c+="####==collect_path="+l(Fa,Ia)+"==####",c=encodeURIComponent(c);try{g=b.createElement('<iframe name="'+c+'"></iframe>')}catch(m){g=b.createElement("iframe"),u(g,c)}g.height="0",g.width="0",g.style.display="none",g.style.visibility="hidden",f=l(Fa,Ja)+"#",f+=encodeURIComponent(b.location.protocol+"//"+b.location.host+"/favicon.ico"),o(a,"beforeunload",h),o(g,"load",i),b.body.appendChild(g),g.src=f}else{var n=arguments,q=arguments.callee;setTimeout(function(){q.apply(a,n)},100)}}function E(){this.keys=[],this.t1={},this.t2={}}function F(a,b,c,d,e){var f=this;u(f,a),f.protocolParameter=b,f.defaultValue=c,f.getter=d,f.setter=e}function G(a,b,c,d,e){var f=new F(a,b,c,d,e);return Na.set(f.name,f),f.name}function H(a,b){Ma.push([new RegExp("^"+a+"$"),b])}function I(a,b,c){return G(a,b,c,void 0,d)}function J(a,b,c,e){return G(a,b,c,e,d)}function K(a){var b=Na.get(a);if(!b)for(var c=0;c<Ma.length;c++){var d=Ma[c],e=d[0].exec(a);e&&(b=d[1](e),Na.set(b.name,b))}return b}function L(a){var b;return Na.map(function(c,d){d.protocolParameter==a&&(b=c)}),b}function M(a,b){var c=a.get(b);return void 0==c?"":""+c}function N(a,b){var c=a.get(b);return void 0==c?0:1*c}function O(){function a(a,b){return a&&a.hasOwnProperty&&a instanceof b}var b=this;return a(b,O)||(b=new O,b.init()),b}function P(){this.data=new E}function Q(){this.stack=[]}function R(){var a=b.location.protocol;if("http:"!=a&&"https:"!=a)throw i("checkProtocolTask","current protocol is:",a),"abort"}function S(a){return a.length>1&&a.lastIndexOf("/")==a.length-1&&(a=a.substr(0,a.length-1)),0!==a.indexOf("/")&&(a="/"+a),a}function T(a){return 0===a.indexOf(".")?a.substr(1):a}function U(a){if("cookie"===M(a,Cb)){var b=[],c=a.get(yb),d=S(a.get(Ab)),e=T(a.get(zb)),f=a.get(Bb),g=M(a,Ra),h=r().split(".");if("auto"!=e&&(q(c,g,f,d,e),q(c)==g))return void(Nb=!0);if(4==h.length&&h[h.length-1]>0)b=["none"];else{for(var i=h.length-2;i>=0;i--)b.push(h.slice(i).join("."));b.push("none")}for(var j=0;j<b.length;j++)if(e=b[j],q(c,g,f,d,e),q(c)==g)return a.set(zb,e),void(Nb=!0);a.set(zb,"auto")}}function V(a){"cookie"!==M(a,Cb)||Nb||(U(a),Nb)||a.data.set(Ra,0)}function W(a){if(100!==a.get(Eb)&&k(M(a,Ra))%1e4>=100*N(a,Eb))throw i("samplerTask","current sampleRate is: ",a.get(Eb)),"abort"}function X(a){var b=[];Na.map(function(c,d){if(d.protocolParameter){var e=a.get(c);0!==e&&e!=d.defaultValue&&("boolean"==typeof e&&(e*=1),b.push(d.protocolParameter+"="+encodeURIComponent(""+e)))}}),b.push("z="+j()),a.set(hb,b.join("&"),!0)}function Y(b){var c=M(b,hb),e=b.get(gb);if("send_silent"!=a._clicki_dc_send_silent)switch(b.get(Qa)){case"image":z(c,e);break;case"cors":B(c,e)||A(c,e);break;case"iframe":D(c,e);break;default:y(c,e)}b.set(gb,d,!0)}function Z(){for(var c=pa.appName+pa.version+pa.platform+pa.userAgent+(b.cookie||"")+(b.referrer||""),d=c.length,e=a.history.length;e>0;)c+=e--^d++;return[Math.round((new Date).getTime()/1e3),j()^2147483647&k(c)].join("").substr(0,18)}function $(a,b){var c=a.get(yb),d=q(c);b||(b=d||Z()),a.data.set(Ra,b),U(a)}function _(a){var c="CSS1Compat"===b.compatMode?"documentElement":"body";if(a.set("referrer",s(a.get(Gb))),qa){var d=qa.pathname||"";"/"!=d.charAt(0)&&(d="/"+d),a.set(ab,qa.href),oa&&(a.set(Ta,oa.width+"*"+oa.height),a.set(Wa,oa.colorDepth+"-bit")),a.set(Ua,b[c].clientWidth+"*"+b[c].clientHeight),a.set(Za,t()),a.set(Va,b.characterSet||b.charset);var f="",g=!1;try{g=pa&&e(pa.javaEnabled)&&pa.javaEnabled()||!1}catch(h){i("collectClientInfo","javaEnabled error",h.message)}try{f=(pa&&(pa.language||pa.browserLanguage)||"").toLowerCase()}catch(j){i("collectClientInfo","language error",j.message)}a.set(Ya,g),a.set(Xa,f)}}function aa(b){var c=a.performance||a.webkitPerformance,d=c&&c.timing;if(!d)return!1;var e=d.navigationStart;return 0===e?!1:(b[lb]=d.loadEventStart-e,b[nb]=d.domainLookupEnd-d.domainLookupStart,b[qb]=d.connectEnd-d.connectStart,b[pb]=d.responseStart-d.requestStart,b[mb]=d.responseEnd-d.responseStart,b[ob]=d.fetchStart-e,b[rb]=d.domInteractive-e,b[sb]=d.domContentLoadedEventStart-e,!0)}function ba(b){if(a.top!=a)return!1;var c=a.external,d=c&&c.onloadT;return c&&!c.isValidLoadTime&&(d=void 0),d>2147483648&&(d=void 0),d>0&&c.setPageReadyTime(),void 0==d?!1:(b[lb]=d,!0)}function ca(a,b){var c=a[b];(isNaN(c)||1/0==c||0>c)&&(a[b]=void 0)}function da(b,c){var d=Math.min(N(b,Fb),100);if(k(M(b,Ra))%100<d){var e=[];if(aa(e)||ba(e)){var f=e[lb];void 0!=f&&isFinite(f)&&!isNaN(f)&&(f>0?(ca(e,nb),ca(e,qb),ca(e,pb),ca(e,mb),ca(e,ob),ca(e,rb),ca(e,sb),c(e)):o(a,"load",function(){da(b,c)},!1))}}}function ea(a){a.timingIsSended||(a.timingIsSended=!0,da(a.storage,function(b){a.send("timing",b)}))}function fa(a){function b(a,b){setTimeout(function(){a.send("pulse")},1e3*b)}if(a.storage.get(Db))for(var c=0;c<Ea.length;c++)b(a,Ea[c])}function ga(a){function b(a,b){d.storage.data.set(a,b)}function c(a,c){b(a,c),d.filters.add(a)}var d=this;d.storage=new P,d.filters=new Q,b(xb,a[xb]),b(Pa,a[Pa]),b(yb,a[yb]),b(zb,a[zb]||r()),b(Ab,a[Ab]),b(Bb,a[Bb]),b(Eb,a[Eb]),b(Qa,a[Qa]),b(Fb,a[Fb]),b(Db,a[Db]),b(Gb,a[Gb]),b(Sa,a[Sa]),c(Hb,R),c(Ib,V),c(Jb,W),c(Kb,X),c(Lb,Y),$(d.storage,a[Ra]),_(d.storage),fa(d)}function ha(a,b){var c=this;c.id=a,c.url=b,c.factory=null,c.instance=null,c.loading=!1,c.ready=!1,c.queue=[],c.prefix="plugin_2015_",c.load()}function ia(){this.plugins={}}function ja(a){return a.indexOf(".")+a.indexOf(":")>-2}function ka(a){var b=this;if(e(a[0]))b.ready=a[0];else{var c=Qb.exec(a[0]);if(null!=c&&4==c.length&&(b.name=c[1]||ua,b.pluginId=c[2]||"",b.action=c[3],b.opts=ra.call(a,1)),!b.action)throw i("Env","no action"),"abort";if("require"===b.action&&(!g(a[1])||""===a[1]))throw i("Env","unexpected require arg: ",a[1]),"abort";if("provide"===b.action&&(!g(a[1])||""===a[1]))throw i("Env","unexpected provide arg: ",a[1]),"abort";if(ja(b.pluginId)||ja(b.action))throw i("Env","pluginId or action has  keyword ."),"abort";if("provide"===b.action&&b.name!=ua)throw i("Env","provide not need trackerName"),"abort"}}function la(){return Rb.append.apply(Rb,[arguments])}function ma(a,c){var d=new Date;d.setFullYear(d.getFullYear()+2),b.cookie=a+("; expires="+d.toGMTString())+("; domain="+r()+"; path=/")}function na(){var a=q("a");a||m(Fa+Ka,function(){a=q("a"),a||C(Fa+La,ma)},!0)}var oa=a.screen,pa=a.navigator,qa=a.location,ra=Array.prototype.slice,sa=Object.prototype.toString,ta="",ua="t0",va="__clickidc",wa=31536e4,xa="dc",ya="queue",za="ClickiTrackerName",Aa="clickiLogStack2015",Ba=3e3,Ca=qa.hash.indexOf("clicki/debug/")>-1||!1,Da=10,Ea=[5,15,30],Fa=("https:"==qa.protocol?"https:":"http:")+"//stm-collect.cn.miaozhen.com/",Ga="track_proxy",Ha="track_ajax",Ia="track_ajax",Ja="collect_iframe.html",Ka="em_mzid",La="get_mzid";E.prototype.set=function(a,b,c){this.keys.push(a),c?this.t2[":"+a]=b:this.t1[":"+a]=b},E.prototype.get=function(a){return this.t2.hasOwnProperty(":"+a)?this.t2[":"+a]:this.t1[":"+a]},E.prototype.del=function(a){var b=this.keys.indexOf(a);return-1!=b&&this.keys.splice(b,1),this.t2.hasOwnProperty(":"+a)?delete this.t2[":"+a]:delete this.t1[":"+a]},E.prototype.dels=function(a){if(f(a)&&a.length>0)for(var b in a){var c=a[b];this.del(c)}else this.del(a)},E.prototype.map=function(a){for(var b=0;b<this.keys.length;b++){var c=this.keys[b],d=this.get(c);d&&a(c,d)}};var Ma=[],Na=new E,Oa=O.prototype;Oa.init=function(){return this.data=[],this.dataLock=[],this.gestureCache=[],this.gestureBindLock=!1,this.binder=["binderScroll","binderKeydown","binderResize","binderMousedown","binderMousemove","binderSwipe","binderTurn","binderPinch"],this.bindEvents(),this.reset(),this},Oa.bindEvents=function(){for(var a=0;a<this.binder.length;a++)this.dataLock[a]=!1,this[this.binder[a]](a)},Oa.onGesturesEventTrigger=function(a){for(var b=this.gestureCache,c=a.touches?a.touches.length:1,d=c>=2?"pinch":"swipe",e=0;e<b.length;e++)b[e]&&b[e][0]===d&&this.onEventTrigger(b[e][1])},Oa.bindGesturesEvent=function(c,d){this.gestureCache.push([c,d]);var e="ontouchstart"in a;!this.gestureBindLock&&e&&b.addEventListener("touchmove",h(this.onGesturesEventTrigger,this),!1)},Oa.onEventTrigger=function(a){this.dataLock[a]||(this.dataLock[a]=!0,this.data[a]=1)},Oa.binderScroll=function(b){o(a,"scroll",h(this.onEventTrigger,this,b))},Oa.binderKeydown=function(a){o(b,"keydown",h(this.onEventTrigger,this,a))},Oa.binderResize=function(b){o(a,"resize",h(this.onEventTrigger,this,b))},Oa.binderMousedown=function(a){o(b,"mousedown",h(this.onEventTrigger,this,a))},Oa.binderMousemove=function(a){o(b,"mousemove",h(this.onEventTrigger,this,a))},Oa.binderSwipe=function(a){this.bindGesturesEvent("swipe",a)},Oa.binderTurn=function(b){a.orientation&&a.addEventListener("orientationchange",h(this.onEventTrigger,this,b),!1)},Oa.binderPinch=function(a){this.bindGesturesEvent("pinch",a)},Oa.reset=function(){for(var a=0;a<this.binder.length;a++)this.data[a]=0},Oa.get=function(){var a=this.data.join("-");return this.reset(),a},G("protocolVersion","v");var Pa=I("trackingId","tid");G("anonymizeIp","aip"),G("queueTime","qt");var Qa=G("forceSendMethod"),Ra=I("clientId","cid"),Sa=G("userId","uid");G("miaozhenId","mzid"),G("sessionControl","sc",""),G("referrer","dr"),G("googleCampaignName","cn"),G("googleCampaignSource","cs"),G("googleCampaignMedium","cm"),G("googleCampaignKeyword","ck"),G("googleCampaignContent","cc"),G("miaozhenCampaignId","mzc"),G("miaozhenAdSpotId","mzs"),G("miaozhenKeywordsId","mzk"),H("customAds([0-9]+)",function(a){return new F(a[0],"ca"+a[1])});var Ta=G("screenResolution","sr"),Ua=G("viewportSize","vp"),Va=G("encoding","de"),Wa=G("screenColors","sd"),Xa=G("language","ul"),Ya=G("javaEnabled","je"),Za=G("flashVersion","fl"),$a=G("hitType","t"),_a=G("nonInteraction","ni",void 0,function(a,b,c){return void 0==c?!1:c}),ab=G("location","dl","");G("hostname","dh");var bb=G("page","dp","");G("title","dt",function(){return b.title||void 0}),G("appName","an"),G("appId","aid",""),G("appVersion","av",""),G("appInstallerId","aiid","");var cb=G("eventCategory","ec"),db=G("eventAction","ea"),eb=G("eventLabel","el"),fb=G("eventValue","ev");G("customActionId","caid"),H("customActionLabel([0-9]+)",function(a){return new F(a[0],"cal"+a[1])}),H("customActionValue([0-9]+)",function(a){return new F(a[0],"cav"+a[1])}),H("dimension([0-9]+)",function(a){return new F(a[0],"cd"+a[1])}),H("metric([0-9]+)",function(a){return new F(a[0],"cm"+a[1])}),J("userBehavior","ub",void 0,h("get",O()));var gb=G("hitCallback"),hb=G("hitPayload"),ib=G("socialNetwork","sn"),jb=G("socialAction","sa"),kb=G("socialTarget","st"),lb=G("l1","plt"),mb=G("l2","pdt"),nb=G("l3","dns"),ob=G("l4","rrt"),pb=G("l5","srt"),qb=G("l6","tcp"),rb=G("l7","dit"),sb=G("l8","clt"),tb=G("timingCategory","utc"),ub=G("timingVar","utv"),vb=G("timingLabel","utl"),wb=G("timingValue","utt"),xb=I("name"),yb=I("cookieName",void 0,va),zb=I("cookieDomain"),Ab=I("cookiePath",void 0,"/"),Bb=I("cookieExpires",void 0,wa),Cb=I("storage",void 0,"cookie"),Db=I("sendPulse",void 0,!0),Eb=I("sampleRate","sf",100),Fb=I("siteSpeedSampleRate",void 0,Da),Gb=I("alwaysSendReferrer",void 0,!1),Hb=G("checkProtocolTask"),Ib=G("checkStorageTask"),Jb=G("samplerTask"),Kb=G("buildHitTask"),Lb=G("sendHitTask"),Mb=!1;G("forceSSL",void 0,void 0,function(){return Mb},function(a,b,c){Mb=!!c}),H("\\&(.*)",function(a){var b=new F(a[0],a[1]),c=L(a[0].substring(1));return c&&(b.getter=function(a){return a.get(c)},b.setter=function(a,b,c,d){a.set(b,c,d)},b.protocolParameter=void 0),b}),P.prototype.clearTemp=function(){this.data.t2={}},P.prototype.get=function(a){var b=K(a),c=this.data.get(a);return b&&void 0==c&&(c=e(b.defaultValue)?b.defaultValue():b.defaultValue),b&&e(b.getter)?b.getter(this,a,c):c},P.prototype.set=function(a,b,c){if(a)if("object"==typeof a)for(var d in a)a.hasOwnProperty(d)&&arguments.callee.call(this,d,a[d],c);else{var f=K(a);f&&e(f.setter)?f.setter(this,a,b,c):this.data.set(a,b,c)}},P.prototype.del=function(a,b){if(a)if(b){var c=new RegExp(a),d=[];for(var e in this.data.keys){var f=this.data.keys[e];c.test(f)&&d.push(f)}this.data.dels(d)}else this.data.del(a)},Q.prototype.add=function(a){this.stack.push(a)},Q.prototype.run=function(b){try{for(var c=0;c<this.stack.length;c++){var f=b.get(this.stack[c]);e(f)&&f.call(a,b)}}catch(g){}var h=b.get(gb);h!=d&&(b.set(gb,d,!0),setTimeout(h,10))};var Nb=!1;ga.prototype.get=function(a){return this.storage.get(a)},ga.prototype.set=function(a,b){return this.storage.set(a,b),this},ga.prototype.del=function(a,b){return this.storage.del(a,b),this};var Ob={pageview:[bb],event:[cb,db,eb,fb],social:[ib,jb,kb],timing:[tb,ub,vb,wb]},Pb={timing:1,pulse:1};ga.prototype.send=function(){var a,b;return arguments.length>0&&(g(arguments[0])?(a=arguments[0],b=ra.call(arguments,1)):(a=arguments[0]&&arguments[0][$a],b=ra.call(arguments))),a&&(a in Pb&&this.storage.set(_a,!0,!0),b=w(Ob[a]||[],b),b[$a]=a,this.storage.set(b,void 0,!0),this.filters.run(this.storage),"pageview"===a&&ea(this),this.storage.clearTemp()),this},ha.prototype.load=function(){var a=this;a.instances=[],a.loading=!0,n(a.url,a.prefix+a.id)},ha.prototype.provide=function(a){if(!this.ready){var b;for(this.factory=a,this.ready=!0,this.loading=!1;b=this.queue.shift();)this.use.apply(this,b)}},ha.prototype.get=function(a){for(var b,c,d=0;d<this.instances.length;d++)if(b=this.instances[d]||[],b[0]==a)return b[1];try{c=new this.factory(a)}catch(e){c=null,i("plugin provide","factory init error; plugin id is:",this.id,";error message is:",e.message)}return this.instances.push([a,c]),c},ha.prototype.use=function(a,b,c){if(this.ready)try{var d=this.get(a);d[b].apply(d,c)}catch(e){i("plugin use","action is: ",b,"; plugin id is:",this.id,";error message is:",e.message)}else this.queue.push(ra.call(arguments))},ia.prototype.getAll=function(){return this.plugins},ia.prototype.get=function(a){return this.plugins[a]},ia.prototype.set=function(a,b){this.plugins[a]=b},ia.prototype.use=function(a,b,c,d){var e=this.get(a);e&&e.use&&e.use.apply(e,ra.call(arguments,1))},ia.prototype.require=function(a,b){this.get(a)||this.set(a,new ha(a,b))},ia.prototype.provide=function(a,b){var c=this.get(a);c&&c.provide&&c.provide.apply(c,ra.call(arguments,1))};var Qb=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,Rb={};Rb.envs=[],Rb.pluginM=new ia,Rb.process=function(){for(var a=[],b=0;b<arguments.length;b++)try{a.push(new ka(arguments[b]))}catch(c){}return a},Rb.run=function(b){try{if(b.ready)b.ready.call(a,la.getByName(ua));else{var c=la.getByName(b.name);if(b.pluginId)return this.pluginM.use(b.pluginId,c,b.action,b.opts);switch(b.action){case"create":la.create.apply(la,b.opts);break;case"remove":la.remove.call(la,b.name);break;case"require":this.pluginM.require.apply(this.pluginM,b.opts);break;case"provide":this.pluginM.provide.apply(this.pluginM,b.opts.concat([c]));break;default:return c[b.action].apply(c,b.opts)}}}catch(d){i("controller.run",d.message)}},Rb.append=function(){var a,b=this,c=b.process.apply(b,arguments);for(c=b.envs.concat(c),b.envs=[];c.length;)a=b.run(c.shift());return a};var Sb=[],Tb=function(a,b,c){var d,e;return g(a[b])&&(e=a[b],d=e?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):""),d||c}(a,za,xa);la.lock=Sb,la.cache={},la.start=0,la.stack=[];var Ub=[Pa,zb,xb,Ra];la.create=function(){var a=w(Ub,ra.call(arguments));a[xb]||(a[xb]=ua);var b=""+a[xb];if(la.cache[b])return la.cache[b];var c=new ga(a);return la.cache[b]=c,la.stack.push(c),c},la.remove=function(a){for(var b=0;b<la.stack.length;b++)if(la.stack[b].get(xb)==a){la.stack.splice(b,1),la.cache[a]=null;break}},la.getAll=function(){return la.stack.slice(0)},la.getByName=function(a){return la.cache[a]},la.init=function(){var b=a[Tb];if(!b||b.lock!=Sb){Ca=!!b.debug,ta=b.debugSendUrl,la.loaded=!0,la.start=b&&b.start,a[Tb]=la;var c=b&&b[ya];f(c)&&Rb.append.apply(Rb,c)}na()},la.init()}(window,document);